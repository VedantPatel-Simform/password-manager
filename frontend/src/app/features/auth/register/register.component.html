<div class="flex items-center justify-center min-h-screen bg-gray-100 px-4">
    <p-card class="w-full max-w-md shadow-lg rounded-2xl">
        <div class="p-6">
            <h2 class="text-2xl font-semibold text-center mb-6">Register</h2>
            <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" novalidate>

                <!-- Name -->
                <div class="mb-4">
                    <label for="name" class="block text-sm font-medium text-gray-700">Name</label>
                    <input pInputText id="name" formControlName="name" placeholder="John Doe" class="w-full mt-1"
                        [ngClass]="{ 'p-invalid': submitted && name?.invalid }" />
                    @if (name?.touched && name?.invalid) {
                    <p class="text-red-500 text-sm mt-1">
                        Name is required (min 4 characters).
                    </p>
                    }
                </div>

                <!-- Email -->
                <div class="mb-4">
                    <label for="email" class="block text-sm font-medium text-gray-700">Email</label>
                    <input pInputText id="email" formControlName="email" placeholder="example@email.com"
                        class="w-full mt-1" [ngClass]="{ 'p-invalid': submitted && email?.invalid }" />
                    @if (email?.touched && email?.invalid) {
                    <p class="text-red-500 text-sm mt-1">
                        Enter a valid email address.
                    </p>
                    }
                </div>

                <!-- Password -->
                <div class="mb-4 relative">
                    <label for="password" class="block text-sm font-medium text-gray-700">Password</label>
                    <input pInputText [type]="showPassword ? 'text' : 'password'" id="password"
                        formControlName="password" class="w-full mt-1 pr-12"
                        [ngClass]="{ 'p-invalid': submitted && password?.invalid }"
                        placeholder="Minimun in 8 in length" />
                    <button type="button" (click)="showPassword = !showPassword"
                        class="absolute right-3 top-9 text-gray-600 hover:text-black" tabindex="-1">
                        <i [ngClass]="showPassword ? 'pi pi-eye-slash' : 'pi pi-eye'"></i>
                    </button>
                    @if (password?.touched && password?.errors?.['error']) {
                    <p class="text-red-500 text-sm mt-1">
                        {{ password?.errors?.['error'] }}
                    </p>
                    }
                </div>


                <!-- Confirm Password -->
                <div class="mb-6 relative">
                    <label for="confirmPassword" class="block text-sm font-medium text-gray-700">Confirm
                        Password</label>
                    <input pInputText [type]="showConfirmPassword ? 'text' : 'password'" id="confirmPassword"
                        formControlName="confirmPassword" class="w-full mt-1 pr-12"
                        placeholder="Enter Same as above ..."
                        [ngClass]="{ 'p-invalid': submitted && (confirmPassword?.invalid || registerForm.errors?.['passwordMismatch']) }" />
                    <button type="button" (click)="showConfirmPassword = !showConfirmPassword"
                        class="absolute right-3 top-9 text-gray-600 hover:text-black" tabindex="-1">
                        <i [ngClass]="showConfirmPassword ? 'pi pi-eye-slash' : 'pi pi-eye'"></i>
                    </button>
                    @if (confirmPassword?.touched && (confirmPassword?.value !== password?.value)) {
                    <p class="text-red-500 text-sm mt-1">
                        Passwords do not match.
                    </p>
                    }
                </div>
                <!-- Submit Button -->
                <div class="flex justify-center">
                    <button pButton type="submit"
                        class="w-full py-3 px-6 rounded-xl font-semibold text-base transition duration-200 ease-in-out text-white focus:outline-none"
                        [ngClass]="registerForm.invalid 
                            ? 'bg-blue-400 cursor-default' 
                            : 'bg-blue-600 hover:bg-blue-700 hover:shadow-lg cursor-pointer'">
                        <i class="pi pi-user-plus mr-2"></i>
                        Register
                    </button>
                </div>

            </form>
        </div>
    </p-card>
</div>